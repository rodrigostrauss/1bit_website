

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
  <head>
<meta charset="utf-8">

<META NAME="author" CONTENT="Rodrigo Strauss">
<META NAME="ROBOTS" CONTENT="ALL">
    <title>Minha política para manutenção de programas  ::::  Rodrigo Strauss :: www.1bit.com.br</title>
    <link href="../../../1bit.css" type="text/css" rel="stylesheet">
    <link rel="alternate" type="text/xml" title="RSS" href="../../../weblog_rss.1bit">
</head>
  <body style="margin:0px 0px 0px 0px" bgcolor="#FFFFFF">
    <table cellspacing="0" cellpadding="0" width="100%" border="0">
        <tr>
          <td class="header" valign="middle" bgcolor="#ffffff" height="77" colspan="2">&nbsp;
<a href="../../../"><img src="../../../images/logo_novo_2.png" border="0" alt="logo" /></a>

          </td>
        </tr>
        <tr>
          <td class="topmenu"></td>
          <td class="topmenu" align="right" height="30">
		    <a class="top_menu_link" href="../../../content.1bit/contact">Contato</a> 
			<span class="menusep">|</span>
            
            <a class="top_menu_link" href="../../../content.1bit/about">Sobre...</a>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </td>
        </tr>
        <tr>
          <td class="topmenu"></td>
          <td>
          <table style="MARGIN: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
            <tr>
              <td><img src="../../../images/rebarba1.png" alt="rebarba"></td>
              <td align="right"><img src="../../../images/rebarba2.png" alt="rebarba"></td>
              </tr>
            </table>
          </td>
        </tr>
        <tr>
          <td class="menu" valign="top" width="175">

<div class="left_menu_section">
 <h2><a href="../../../#artigos" style="text-decoration:none;">Artigos</a></h2>
</div>

<div class="left_menu_section">
 <h2><a href="../../../content.1bit/weblog_archive" style="text-decoration:none;">Blog</a></h2>
</div>

<div class="left_menu_section">
 <h2><a href="../../../content.1bit/opensource" style="text-decoration:none;">Open Source</a></h2>
</div>

<!-- 
<div class="left_menu_section">
 <h2><a href="content.1bit/aulas" style="text-decoration:none;">Aulas online (ou não) </a></h2>
</div>
-->


<br>
<br>
<br>
<center>

<!--
<a href="http://whos.amung.us/show/xopqoakh"><img src="http://whos.amung.us/cwidget/xopqoakh/fffffff6915a.png" alt="page counter" width="81" height="29" border="0" /></a>
-->

</center>



<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
          </td>
          <td valign="top">
<div class="content">
<h4><a href="../../../content.1bit/weblog_archive" style="text-decoration:none;">Rodrigo Strauss :: Blog</a></h4>
<table border="0">
<tr>
<!-- 
<td width="60">

<a style="text-decoration:none;" href="../../weblog_rss.1bit"><img src="../../../images/xml.gif" border="0"/></a>
</td>
-->

<td>



</td>

<td>




</td>

<td align="right">




<!--

<script type="text/javascript">
google_ad_client = "pub-2589539519655496";
google_ad_width = 468;
google_ad_height = 15;
google_ad_format = "468x15_0ads_al";
google_ad_channel = "";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "FF5000";
google_color_text = "000000";
google_color_url = "FF5000";
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
-->






</td>
</tr>
</table>
<br>
<h5>Minha política para manutenção de programas</h5><p>Ouço muitos programadores dizendo coisas como "esse código está horrível, vou refazer" ou "não consigo entender nada do que aquele cara escreveu, acho mais fácil fazer de novo". Quanto mais experiência e mais tempo de mercado eu tenho, mais essas frases me soam infantis e pouco profissionais. Eu já disse essas coisas várias vezes e ainda digo as vezes, mas não muda minha visão sobre o assunto.</p>

<p>Quando não se entende o código, na maioria das vezes o programador que tenta entender já faz o serviço com má vontade, e acaba encontrando alguma desculpa para justificar sua proposta: gastar tempo refazendo algo que está pronto e funciona, só porque ele diz que não consegue entender o que foi feito. Nem vou discutir a duvidosa capacidade do programador, mas uma coisa me vem: se você não entende o que está feito, como pode refazer? Você pode até conhecer quais os valores de entrada produzem quais saídas, mas sem entender o que está feito é muito difícil manter a compatibilidade e o comportamento do código anterior. É importante lembrar: o usuário não vê código fonte. Se você gastar um tempão refazendo uma parte do sistema e ela não ficar exatamente igual ou melhor do que o que estava funcionando anteriormente, como você justifica? Agora o fonte está muito melhor e mais legível, mas não funciona como o usuário espera. Não é para ele que o sistema foi feito? Uma coisa que faz muitos programadores suarem frio é, por exemplo, dar manutenção em um código cujo padrão de nomenclatura ele não concorda e não gosta. Concordo que é horrível, mas faz parte do trabalho e é necessário um pouco de profissionalismo nessa hora.</p>

<p>Refazer código não é algo necessariamente ruim, apesar de ser ruim na maioria das vezes (<a href="http://www.joelonsoftware.com/articles/fog0000000069.html">o próprio Joel já falou sobre isso</a>). Você precisa ter um motivo muito bom para mudar algo que está funcionando. O fonte está feio? Não se esqueça que seu estilo de codificação pode ser feio para outras pessoas. Refazer uma parte do programa é uma tarefa custosa em termos financeiros e em termos de estabilidade, já que você troca um coisa feia, horrível e porca mas que funciona por algo lindo, maravilhoso e moderno que nunca foi testado. Eu tenho até um metáfora para isso: Um sistema remendado é como um barco antigo cheio de durepox nos buracos. Ele pode ser um pouco lento e pesado, mas depois de tapar tantos furos, ele navega. Um sistema novo é como um barco novo e bonito. Pode ter seus buracos da mesma forma, mas como nunca foi usado, ele pode ainda rachar no meio a qualquer momento.</p>

<p>Algumas vezes refazer é necessário, mas a parte refeita do sistema é como uma parte nova, precisa ser muito bem testada. Por isso que hoje em dia se fala tanto em refactoring e unit testing, que prega algo como "não jogue fora o que você tem, reorganize e melhore de forma progressiva e garantindo que as melhorias feitas não criarão problemas ou incompatibilidades".</p>

<p>Eu sei que com esse post parece que estou saindo do lado técnico e mudando para o lado gerencial, mas não é isso. Como técnico me compete manter o sistema funcionando, e tudo isso que eu escrevi é sobre análise de risco e sobre a prioridade de manter tudo funcionando. Qualquer mudança no sistema exige uma boa análise de risco, e uma parte refeita mais ainda. Quando você cria um recurso novo no sistema, muitas vezes o usuário não sabe o que esperar, ele sabe que algumas adaptações serão necessárias. Quando você refaz alguma coisa, ele sabe exatamente o que esperar, ele usa isso no dia a dia. Mudando isso você cria aquela situação extremamente irritante de "isso estava funcionando, por que você foi mexer?".</p>

<p>Se você, como todo programador normal, tem vontade de experimentar tecnologias em versão alfa, coisas novíssimas e moderníssimas e refazer coisas, comece um projeto open source. Vai ser melhor para você (liberdade total e talvez mais usuários do que o sistema que você faz na empresa) e para seu projeto (estabilidade).</p>

<br><p class="datetime">Em 27/06/2007 19:06, por  Rodrigo Strauss </p>
</div>
          </td>
        </tr>



<tr>
<td class="topmenu"></td>
<td>
<br>
<center>

<script type="text/javascript"><!--
google_ad_client = "pub-2589539519655496";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
google_ad_channel = "";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "FF5000";
google_color_text = "000000";
google_color_url = "FF5000";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

</center>
</td>
</tr>

<tr>
 <td class="topmenu"></td>
 <td>
  <table style="margin: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
   <tr>
    <td><img src="../../../images/rebarba3.png"></td>
    <td align="right"><img src="../../../images/rebarba4.png"></td>
   </tr>
  </table>
 </td>
</tr>

<tr><td class="topmenu">&nbsp;</td><td class="topmenu">&nbsp;</td></tr>
<tr><td class="topmenu">&nbsp;</td><td>
<table style="MARGIN: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
            <tr>
              <td><img src="../../../images/rebarba1.png"></td>
              <td align="right"><img src="../../../images/rebarba2.png"></td>
              </tr>
            </table>
</td>
</tr>
 <tr><td class="topmenu">&nbsp;</td>
<td>

<div class="content">
<a name="comments"></a><h5>Comentários</h5><div class="post_comment">
<a name="1950"></a><B>Israel Aece</B>  | <a rel="nofollow" href="http://weblogs.pontonetpt.com/israelaece/">website</a> | em 27/06/2007 | <a rel="nofollow" href="../#1950">#</a><br>
Boas Rodrigo,<br><br>Logo quando comecei a programar eu me enquadrava nesta situação. Hoje, eu tento ter uma visão mais profissional, justamente, para não deparar com os problemas que você já citou.<br><br>A atitude que você descreveu acima é bastante elegante!
</div>
<div class="post_comment">
<a name="1951"></a><B>Thiago Brito</B>  | <a rel="nofollow" href="http://www.devprocess.com.br">website</a> | em 27/06/2007 | <a rel="nofollow" href="../#1951">#</a><br>
Quando eu vou refazer um código, eu realmente procuro me cercar do maior número de testes possíveis (todos automatizados) e dividir o código em vários pedaços (por função, por classe ou por funcionalidade... quanto menor melhor).<br><br>Com testes bem feitos é mais fácil de fazer um bom refactoring e melhorar o código como um todo. <br><br>Mas como você mesmo disse, sair mudando tudo que você acha que é "feio" seja pq vc fez o codigo a anos atrás ou pq foi outra pessoa quem criou, é melhor pensar duas vezes e analisar se isso é realmente necessário.<br><br>Muito interessante o post.
</div>
<div class="post_comment">
<a name="1953"></a><B>Francismar A. Silva</B>  | <a rel="nofollow" href="http://www.linuxabordo.com.br/blog/padawanzone.html">website</a> | em 28/06/2007 | <a rel="nofollow" href="../#1953">#</a><br>
"não jogue fora o que você tem, reorganize e melhore de forma progressiva e garantindo que as melhorias feitas não criarão problemas ou incompatibilidades".<br><br>Com toda certeza este é caminho.<br>"Perder" algumas horas entendendo a codificação é melhor que dias e mais dias re-codificando.<br>Afinal, quem aqui tem tempo para isto? Qual é nosso maior vilão? Prazo!<br>(:<br><br>[ ]'s
</div>
<div class="post_comment">
<a name="1954"></a><B>Eduardo Miranda</B>  | <a rel="nofollow" href="http://www.eduardomiranda.net/blogs/dotnet">website</a> | em 28/06/2007 | <a rel="nofollow" href="../#1954">#</a><br>
Existe uma área cinza entre o que vale a penar refactorar e o que é perda de tempo. <br><br>Uma vez ouvi uma história de um RA (Refactor Anônimo) que passava à noite mudando nome de variável, statements, etc, que os colegas tinham escrito durante o dia!<br><br>No entanto, em alguns casos a mudança é necessária para a longevidade da aplicação. Para isto é necessário investir tempo em criar uma estrutura de testes e depois partir para o massacre (dependendo do código vai espirrar muito sangue).<br><br>É necessário avaliar o quanto aquele código terá que evoluir e quanto você gasta para dar manutenção.<br><br>Às vezes por causa da pressa você não faz o que tinha que ser feito ai acaba mais atarefado porque perde mais tempo na manutenção, o que acaba em um ciclo vicioso.
</div>
<div class="post_comment">
<a name="2025"></a><B>betha</B>  | em 10/09/2007 | <a rel="nofollow" href="../#2025">#</a><br>
oi adori seus artigos e fiquei muito interresada me add no seu msn pra gente conersar<br><br>obrigado des de ja
</div>



</div>

</td></tr>



















<tr>
          <td class="topmenu"></td>
          <td>
          <table style="margin: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
            <tr>
              <td><img src="../../../images/rebarba3.png" alt="rebarba"></td>
              <td align="right"><img src="../../../images/rebarba4.png" alt="rebarba"></td>
            </tr>
          </table>
          </td>
        </tr>

        <tr>
          <td class="topmenu">&nbsp;</td>
          <td class="topmenu" height="25" align="right" style="color:#999999;">
::::
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </td>
        </tr>
    </table>
  </body>
</html>

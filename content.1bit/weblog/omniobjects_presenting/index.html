

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
  <head>
<meta charset="utf-8">

<META NAME="author" CONTENT="Rodrigo Strauss">
<META NAME="ROBOTS" CONTENT="ALL">
    <title>Apresentando o projeto OmniObjects  ::::  Rodrigo Strauss :: www.1bit.com.br</title>
    <link href="../../../1bit.css" type="text/css" rel="stylesheet">
    <link rel="alternate" type="text/xml" title="RSS" href="../../../weblog_rss.1bit">
</head>
  <body style="margin:0px 0px 0px 0px" bgcolor="#FFFFFF">
    <table cellspacing="0" cellpadding="0" width="100%" border="0">
        <tr>
          <td class="header" valign="middle" bgcolor="#ffffff" height="77" colspan="2">&nbsp;
<a href="../../../"><img src="../../../images/logo_novo_2.png" border="0" alt="logo" /></a>

          </td>
        </tr>
        <tr>
          <td class="topmenu"></td>
          <td class="topmenu" align="right" height="30">
		    <a class="top_menu_link" href="content.1bit/contact">Contato</a> 
			<span class="menusep">|</span>
            
            <a class="top_menu_link" href="content.1bit/about">Sobre...</a>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </td>
        </tr>
        <tr>
          <td class="topmenu"></td>
          <td>
          <table style="MARGIN: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
            <tr>
              <td><img src="../../../images/rebarba1.png" alt="rebarba"></td>
              <td align="right"><img src="../../../images/rebarba2.png" alt="rebarba"></td>
              </tr>
            </table>
          </td>
        </tr>
        <tr>
          <td class="menu" valign="top" width="175">

<div class="left_menu_section">
 <h2><a href="../../#artigos" style="text-decoration:none;">Artigos</a></h2>
</div>

<div class="left_menu_section">
 <h2><a href="content.1bit/weblog" style="text-decoration:none;">Blog</a></h2>
</div>

<div class="left_menu_section">
 <h2><a href="content.1bit/opensource" style="text-decoration:none;">Open Source</a></h2>
</div>

<!-- 
<div class="left_menu_section">
 <h2><a href="content.1bit/aulas" style="text-decoration:none;">Aulas online (ou nÃ£o) </a></h2>
</div>
-->


<div id="google_translate_element"></div><script>
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'pt',
    gaTrack: true,
    gaId: 'UA-75310-1',
  }, 'google_translate_element');
}
</script><script src="../..//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<br>

<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com.br/custom" target="_top">
<table border="0" bgcolor="#eeeeee">
<tr><td nowrap="nowrap" valign="top" align="left" height="32">
<a href="http://www.google.com/">
<img src="http://www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
<br/>
<input type="hidden" name="domains" value="www.1bit.com.br"></input>
<label for="sbi" style="display: none">Digite os termos da sua pesquisa</label>
<input type="text" name="q" size="23" maxlength="255" value="" id="sbi"></input>
</td></tr>
<tr>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" id="ss0"></input>
<label for="ss0" title="Pesquisar na web"><font size="-2" color="black">Web</font></label></td>
<td>
<input type="radio" name="sitesearch" value="www.1bit.com.br" checked id="ss1"></input>
<label for="ss1" title="Pesquisar www.1bit.com.br"><font size="-2" color="black">www.1bit.com.br</font></label></td>
</tr>
</table>
<label for="sbb" style="display: none">Enviar formulÃ¡rio de pesquisa</label>
<input type="submit" name="sa" value="Pesquisar" id="sbb"></input>
<input type="hidden" name="client" value="pub-2589539519655496"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#0066CC;GL:1;DIV:#999999;VLC:336633;AH:center;BGC:FFFFFF;LBGC:FFFFFF;ALC:0066CC;LC:0066CC;T:000000;GFNT:666666;GIMP:666666;LH:50;LW:120;L:http://www.1bit.com.br/images/logo_novo_2.png;S:http://;FORID:1"></input>
<input type="hidden" name="hl" value="pt"></input>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
<br>

<br>
<br>
<center>

<br><br><br>

<!--
<a href="http://whos.amung.us/show/xopqoakh"><img src="http://whos.amung.us/cwidget/xopqoakh/fffffff6915a.png" alt="page counter" width="81" height="29" border="0" /></a>
-->

</center>



<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
          </td>
          <td valign="top">
<div class="content">
<h4><a href="content.1bit/weblog" style="text-decoration:none;">Rodrigo Strauss :: Blog</a></h4>
<table border="0">
<tr>
<!-- 
<td width="60">

<a style="text-decoration:none;" href="../../weblog_rss.1bit"><img src="../../../images/xml.gif" border="0"/></a>
</td>
-->

<td>



</td>

<td>




</td>

<td align="right">




<!--

<script type="text/javascript">
google_ad_client = "pub-2589539519655496";
google_ad_width = 468;
google_ad_height = 15;
google_ad_format = "468x15_0ads_al";
google_ad_channel = "";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "FF5000";
google_color_text = "000000";
google_color_url = "FF5000";
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
-->






</td>
</tr>
</table>
<br>
<h5>Apresentando o projeto OmniObjects</h5><p>Apresento aos meus prezados leitores meu primeiro projeto open source, o <a href="http://omniobjects.sourceforge.net/">OmniObjects</a>. Esse projeto tem o (nada) humilde objetivo de substituir do Microsoft DCOM com algo mais extensível, mais configurável e open source.</p>

<p>Como todos sabem, eu gosto muito de COM, acho o padrão binário do COM um conceito simples, extensível e extremamente multiplataforma. O Firefox (que roda em mais plataformas e sistemas operacionais que meus dedos conseguem contar), por exemplo, é todo feito em <a href="http://en.wikipedia.org/wiki/XPCOM">XPCOM</a>, que é uma versão do COM feita pelo pessoal da Mozilla Foundation. O <a href="http://en.wikipedia.org/wiki/CORBA">CORBA</a> usa exatamente o mesmo conceito. Além desse padrão binário ser independente de linguagem (coisa que o .NET também é), ele também é independente de runtime (coisa que tudo baseado em .NET não é). Não adianta, a coisa mais multiplataforma que existe é C/C++, ainda não inventaram nada que seja mais portável do que um código fonte.</p>

<p>A Microsoft resolveu os problemas do DCOM criando a plataforma .NET, o Remoting e o Windows Communication Foundation. Muito bom, mas se você pretende continuar no C++ nativo, bare metal, sua única alternativa é continuar convivendo com as qualidades e com as limitações do DCOM, além da certeza de que a Microsoft não investirá mais muito tempo nisso. Apesar do DCOM ser uma plataforma madura e testada, lhe falta um toque de Internet. DCOM funciona muito bem em redes locais, mas não é configurável o suficiente para ser usado via Internet. Aí entra o projeto OmniObjects.</p>

<p>O OmniObjects faz exatamente o que faz o DCOM: leva uma chamada à um método de um objeto de uma máquina para outra. Só que ao invés de existir um serviço no Windows que atende requisições em uma porta fixa, você mesmo pode fazer o host do componentes, da mesma forma que no .NET Remoting. Como um código vale mais que mais um entre os milhões de projetos no SourceForge, veja isto:

<div class="code">
<pre>
<span class="keyword">int</span> main()
{
  OmniInitialize();
&nbsp;
  OmniInitializeHosting(L<span class="literal">"TCP"</span>, L<span class="literal">"12345"</span>);

  <span class="comment">//
</span>  <span class="comment">// pronto, já estamos atendendo requisições
</span>  <span class="comment">// usando TCP, e na porta 12345. 
</span>  <span class="comment">// 
</span>  <span class="comment">// "Olhe mamãe, sem a porta 135!"
</span>  <span class="comment">//
</span>  _getch();
&nbsp;
  OmniUninitialize();
&nbsp;
  <span class="keyword">return</span> 0;
}
</pre>
</div>

<p>Fazer host de objetos COM usando OmniObjects parece simples. E você nem precisa de loop de mensagens como no COM, ele cria uma thread separada para atender as requisições. O código para instanciar um objeto remoto também não é lá muito complicado. Veja com seus próprios olhos:

<div class="code">
<pre>
<span class="keyword">int</span> main()
{
  OmniInitialize();
  {
    <span class="comment">//
</span>    <span class="comment">// esse é o nosso smart pointer mais smart do que os outros
</span>    <span class="comment">// você não precisa usá-lo, pode usar _com_ptr_t, CComPtr
</span>    <span class="comment">// ou gerenciar na mão, como no tempo das cavernas
</span>    <span class="comment">//
</span>    omni_ptr&lt;ITest1&gt; pTest1; 
    CComBSTR bstr(L<span class="literal">"Olhe mamãe, eu consigo passar pelo firewall!"</span>), bstrOut;
    <span class="keyword">unsigned</span> <span class="keyword">int</span> a = 10;
&nbsp;
    OmniCreateRemoteInstance(L<span class="literal">"tcp://127.0.0.1:12345"</span>, CLSID_Test1,
                             NULL, __uuidof(ITest1), pTest1.ppvoid());
&nbsp;
    pTest1-&gt;Method1(bstr, 25);
    pTest1-&gt;Method2(&amp;bstr, &amp;a, &amp;bstrOut);
  }  
  OmniUninitialize();
  <span class="keyword">return</span> 0;
}
</pre>
</div>

<p>Todo o resto é COM. O que muda em relação ao DCOM é a instanciação do objetos e o hosting. Claro, não tem segurança integrada com Windows, mas isso muitas vezes é uma vantagem. Imagine que você está fazendo um Instant Messenger. Usando OmniObjects você nunca mais vai precisar usar sockets e ficar fazendo parse de pacotes na memória. O código para enviar uma mensagem pode ser algo simples como <i>pInstantMessengerServer->SendMessage("user12312", "Free your mind");</i>. Só não esqueça que apesar de tudo parecer maravilhoso, o projeto OmniObjects ainda está na versão 0.10. Tudo ficará mais maravilhoso ainda (inclusive chamadas via HTTP, etc) ao longo do tempo. :-)</p>

<p>Para fazer com que seu objeto sejá acessível pelo OmniObjects, tudo que você precisa fazer é compilar seu arquivo IDL com o OmniIdl.exe e compilar o projeto Visual C++ 8.0 que ele gerará. Isso produzirá a DLL de proxy e stub que fará toda mágica funcionar. Para mais detalhes e instruções veja a <a href="http://omniobjects.sourceforge.net/">página do projeto OmniObjects</a>.</p>

<p>O OmniObjects é um projeto open source hospedado no <a href="http://sourceforge.net/projects/omniobjects/">SourceForge</a>. Ele está disponibilizado usando licença BSD, que é basicamente: use os fontes para o que você quiser - inclusive para ficar milionário com um aplicativo comercial baseado nele e não me dar nenhum centavo e nem os fontes modificados de volta - contanto que não me responsabilize por nada que acontecer pelo uso desse fonte. <a href="http://sourceforge.net/project/showfiles.html?group_id=174023">Baixe a versão 0.1</a> enquanto ainda está quente e faça um bom proveito.</p><br><p class="datetime">Em 28/09/2006 04:42, por  Rodrigo Strauss </p>
</div>
          </td>
        </tr>



<tr>
<td class="topmenu"></td>
<td>
<br>
<center>

<script type="text/javascript"><!--
google_ad_client = "pub-2589539519655496";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
google_ad_channel = "";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "FF5000";
google_color_text = "000000";
google_color_url = "FF5000";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

</center>
</td>
</tr>

<tr>
 <td class="topmenu"></td>
 <td>
  <table style="margin: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
   <tr>
    <td><img src="../../../images/rebarba3.png"></td>
    <td align="right"><img src="../../../images/rebarba4.png"></td>
   </tr>
  </table>
 </td>
</tr>

<tr><td class="topmenu">&nbsp;</td><td class="topmenu">&nbsp;</td></tr>
<tr><td class="topmenu">&nbsp;</td><td>
<table style="MARGIN: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
            <tr>
              <td><img src="../../../images/rebarba1.png"></td>
              <td align="right"><img src="../../../images/rebarba2.png"></td>
              </tr>
            </table>
</td>
</tr>
 <tr><td class="topmenu">&nbsp;</td>
<td>

<div class="content">
<a name="comments"></a><h5>Comentários</h5><div class="post_comment">
<a name="1501"></a><B>Wander Lairson Costa</B>  | em 28/09/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1501">#</a><br>
Fiz o primeiro download hein! Que fique registrado... hehehehe<br><br>Eu também mantenho um pequeno projeto open source (bem menos ambicioso), um wrapper da libusb para Python,  <a rel="nofollow" href="http://pyusb.berlios.de">http://pyusb.berlios.de</a>.<br><br>Parabéns pela iniciativa!
</div>
<div class="post_comment">
<a name="1502"></a><B>Wanderley Caloni</B>  | <a rel="nofollow" href="http://www.caloni.com.br">website</a> | <a rel="nofollow" href="mailto:wanderley@caloni.com.br">e-mail</a> | em 28/09/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1502">#</a><br>
Sinto desapontá-lo, Lairson, mas cheguei primeiro. Como dizem aqueles moleques do IRC: uhHAUhuHAAHuhuAUHuHUAHuHAU. Brincadeirinha =)<br><br>Vale comentar, Strauss, que seu projeto depende do boost. Também vale comentar qual versão do boost (já que eles têm algum histórico de quebra de compatibilidade). Eu baixei a última versão e compilou tudo "prefeitamente".<br><br>[]s
</div>
<div class="post_comment">
<a name="1503"></a><B>Rodrigo</B>  | em 28/09/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1503">#</a><br>
Interessantíssimo =)
</div>
<div class="post_comment">
<a name="1505"></a><B>Wander Lairson Costa</B>  | em 28/09/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1505">#</a><br>
Bem, pelo menos fui o primeiro a comentar... hehehehe<br>A propósito Strauss, você pensa em portar seu projeto para outras plataformas?
</div>
<div class="post_comment_strauss">
<a name="1506"></a><B>Rodrigo Strauss</B>  | <a rel="nofollow" href="http://www.1bit.com.br">website</a> | em 28/09/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1506">#</a><br>
Sim, a idéia é portar esse projeto pra Linux assim que ele estiver um pouco mais estável. O OmniIdl que é uma das partes principais está bem multiplataforma, usando C++ ISO e Boost. O OmniObjects.dll vai ser um pouco mais difícil. Mas a parte mais complicada é a de TCP/IP, que no Linux eu pretendo usar o xinetd para simplificar.
</div>
<div class="post_comment">
<a name="1507"></a><B>./techberto</B>  | em 28/09/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1507">#</a><br>
Sobre o fato do projeto estar na versão 0.10, como já dizia o milenar provérbio grego "Começar já é metade de toda ação"; neste caso do projeto. <br><br>Baixei, compilei, funcionou e achei bem interessante!<br><br>Meus parabéns pela iniciativa.<br><br>[]s++<br>
</div>
<div class="post_comment">
<a name="1508"></a><B>AngusYoung</B>  | <a rel="nofollow" href="http://www.angusyoung.org">website</a> | em 29/09/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1508">#</a><br>
Parece uma ferramenta interessante para um projeto, open source, que estou desenvolvendo. Uma pena que, no momento, só tenho acesso ao Visual Studio 2005 Express :(<br>De qualquer maneira, boa sorte com o projeto! E não deixe de nos avisar assim que pudermos usa-la no VS Express.<br><br>[]'s
</div>
<div class="post_comment_strauss">
<a name="1509"></a><B>Rodrigo Strauss</B>  | <a rel="nofollow" href="http://www.1bit.com.br">website</a> | em 29/09/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1509">#</a><br>
É bem simples pra portar, só preciso de alguém pra testar. Alguém se habilita?
</div>
<div class="post_comment">
<a name="1510"></a><B>AngusYoung</B>  | <a rel="nofollow" href="http://www.angusyoung.org">website</a> | em 29/09/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1510">#</a><br>
Rodrigo, pode contar com a minha ajuda nos testes.
</div>
<div class="post_comment">
<a name="1511"></a><B>Aldrin Leal</B>  | <a rel="nofollow" href="http://www.leal.eng.br/mnemetica/">website</a> | em 30/09/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1511">#</a><br>
Rodrigo,<br><br>Você já viu o Ice?  <a rel="nofollow" href="http://www.zeroc.com/">http://www.zeroc.com/</a><br><br>Enquanto um "sucessor espiritual" do CORBA, me parece bastante atraente e adequado. Eu entendo sua intenção de criar algo mais vinculado ao COM, mas certamente você poderia se inspirar não apenas no XPCOM, como também no Ice, que também introduz algumas idéias sensacionais, apesar de ter uma licença bastante restritiva (GPL, a "Viral").<br><br>Fica como uma sugestão de rumos a seguir (porque não?)<br><br>-- Aldrin Leal.
</div>
<div class="post_comment">
<a name="1512"></a><B>Aldrin Leal</B>  | <a rel="nofollow" href="http://www.leal.eng.br/mnemetica/">website</a> | <a rel="nofollow" href="mailto:aldrin@leal.eng.br">e-mail</a> | em 30/09/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1512">#</a><br>
Com relação ao layer de rede, eu sugiro que você dê uma lida no paper do Matt Welsh sobre o SEDA ( <a rel="nofollow" href="http://www.eecs.harvard.edu/~mdw/proj/seda/">http://www.eecs.harvard.edu/~mdw/proj/seda/</a>) e também neste paper ( <a rel="nofollow" href="http://www.kegel.com/c10k.html">http://www.kegel.com/c10k.html</a>).<br><br>Vi alguns frameworks que implementam estas idéias do SEDA em ambiente de NonBlocking I/O, como o Mina (diretory.apache.org) e também o Twisted Python, mas nada em C++. Mas não toco em CPP há algum tempinho, apesar de me lembrar de ter feito algo assim em C++/CLI quando testei o Express 2005.<br><br>(Óbvio, meu bias é pro lado da performance. Performance, performance, greed for speed, yeah baby!)<br><br>-- Aldrin Leal.
</div>
<div class="post_comment_strauss">
<a name="1513"></a><B>Rodrigo Strauss</B>  | <a rel="nofollow" href="http://www.1bit.com.br">website</a> | em 30/09/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1513">#</a><br>
Sim, conheço o Ice, apesar de ele ter crescido bastante desde a última vez que eu vi. E um dos meus problemas com ele é a licença restritiva, eu prefiro software livre que seja livre para tudo, inclusive uso comercial. Ele é como o Qt, um produto comercial que tem uma licença open source para ajudar a divulgar. Nada contra, mas não está dentro do que eu penso.<br><br>No começo eu cheguei a pensar em desenvolver um remote XPCOM, mas como ele é meio restrito ao Firefox achei melhor não. Não dá pra comparar o grau de suporte que o COM tem com nada, nem XPCOM, nem CORBA, nem SOAP. Ao invés de reinventar a roda preferi contornar as limitações do COM.<br><br>Eu prefiro investir no COM/DCOM porque ele é praticamente o padrão de objetos remotos no Windows, além de ser maduro e universalmente suportado. Existe dezenas de ferramentas, frameworks e linguagens que suportam DCOM. Aí todo mundo usa o que sempre usou (seja ATL, VB6, .NET, tanto faz), só que com uma configuração de rede muito mais flexível. A idéia é que você não tenha que portar nem refazer os componentes, só os plugue numa nova runtime de comunicação.
</div>
<div class="post_comment">
<a name="1518"></a><B>Wanderley Caloni</B>  | <a rel="nofollow" href="http://www.caloni.com.br">website</a> | <a rel="nofollow" href="mailto:wanderley@caloni.com.br">e-mail</a> | em 01/10/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1518">#</a><br>
Nesse caso uma outra idéia interessante é disponibilizar um guia de migração para os que já possuem um projeto COM/DCOM. Como a maioria deve seguir o Wizard do VS, que tal desenvolver um Wizard para o Omni? =)
</div>
<div class="post_comment_strauss">
<a name="1519"></a><B>Rodrigo Strauss</B>  | <a rel="nofollow" href="http://www.1bit.com.br">website</a> | em 01/10/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1519">#</a><br>
Na realidade não existe uma migração, você nem precisa dos fontes do componente. É só usar o OmniIdl para gerar os fontes da dll de proxy/stub e compilá-la. A única mudança fica por conta da instanciação, que é esse exemplo de código.<br><br>Tem um "How to make your COM object compatible with OmniObjects" na página do projeto que apesar de pequeno me parece suficiente. O que você acha?<br><br>A única mudança no componente de exemplo que vai junto no pacote em relação a um projeto ATL é que ele tem um build step para gerar o proxy/stub automaticamente.
</div>
<div class="post_comment">
<a name="1525"></a><B>Fabio Galuppo</B>  | <a rel="nofollow" href="http://fabiogaluppo.blogspot.com">website</a> | em 03/10/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1525">#</a><br>
Ótima iniciativa Rodrigo!<br><br>Numa das diversas "choppadas" vc já havia citado sobre esta infra... Estou quase tentado a usá-la num projeto que tenho q é 99% C++ e 1% .NET (onde uso WSE 3.0 para trafegar SOAP via HTTP ou TCP) ;-)<br><br>Curiosidade, não sei de onde vc tirou o nome Omni... Mas, OmniVM foi a VM que inspirou a construção da CLR!
</div>
<div class="post_comment_strauss">
<a name="1526"></a><B>Rodrigo Strauss</B>  | <a rel="nofollow" href="http://www.1bit.com.br">website</a> | em 03/10/2006 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#1526">#</a><br>
Omni == oni, prefixo (latim|grego|sei lá) para "tudo", algo objetos "todos os objetos, em todos os lugares". :-)<br><br>Não sabia dessa curiosidade histórica.<br><br>Eu ficaria muito feliz com um segundo usuário e uma segunda aplicação prática, ainda mais nesse nível. Eu sou o primeiro, claro que vou fazer software em cima dessa plataforma. :-)
</div>
<div class="post_comment">
<a name="2456"></a><B>Hakuno</B>  | em 05/03/2009 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#2456">#</a><br>
Fiquei perdido...
</div>
<div class="post_comment">
<a name="2646"></a><B>Math</B>  | em 23/06/2010 | <a rel="nofollow" href="content.1bit/weblog/omniobjects_presenting#2646">#</a><br>
Só passei aqui para dizer "OLA", e para dizer que gostei de varios artigo. 
</div>

<h5>Algo a dizer?</h5>
<script language="JavaScript">
function setCookie(name, value, expires, path, domain, secure) {
  var curCookie = name + "=" + escape(value) +
      ((expires) ? "; expires=" + expires.toGMTString() : "") +
      ((path) ? "; path=" + path : "") +
      ((domain) ? "; domain=" + domain : "") +
      ((secure) ? "; secure" : "");
  document.cookie = curCookie;
}

function getCookie(name) {
  var dc = document.cookie;
  var prefix = name + "=";
  var begin = dc.indexOf("; " + prefix);
  if (begin == -1) {
    begin = dc.indexOf(prefix);
    if (begin != 0) return null;
  } else
    begin += 2;
  var end = document.cookie.indexOf(";", begin);
  if (end == -1)
    end = dc.length;
  return unescape(dc.substring(begin + prefix.length, end));
}

function deleteCookie(name, path, domain) {
  if (getCookie(name)) {
    document.cookie = name + "=" +
    ((path) ? "; path=" + path : "") +
    ((domain) ? "; domain=" + domain : "") +
    "; expires=Thu, 01-Jan-70 00:00:01 GMT";
  }
}

function CheckName()
{
  if(comment_form.name.value == '')
  {
    alert('Você esqueceu de informar o seu nome...');
    comment_form.name.focus();
    
    return false;
  }

  if(comment_form.comment.value == '')
  {
    alert('O que você acha de escrever o comentário antes de tentar enviá-lo?');
    comment_form.comment.focus();
    
    return false;
  }

  var now = new Date();

  // um ano
  now.setTime(now.getTime() + 365 * 24 * 60 * 60 * 1000);
  setCookie("name", comment_form.name.value, now);
  setCookie("email", comment_form.email.value, now);
  setCookie("link", comment_form.link.value, now);
  setCookie("hideemail", comment_form.hideemail.value, now);

  return true;
}

</script>
<form name="comment_form" method="POST" action="/comment.html" onsubmit="return CheckName();">
<input type="hidden" name="article" value="weblog/1159429369"/>

Nome:<br/>
<input type="text" name="name" style="width: 250px;"/><br/>
<br/>

Site:<br/>
<input type="text" name="link" style="width: 250px;" /><br/>
<br/>

E-mail:<br/>
<input type="text" name="email" style="width: 250px;" />
<br/><br/>

Escreva o número vinte e seis:<br/>
<input type="text" name="idade" style="width: 250px;" />
<br/><br/>

<input type="checkbox" name="hideemail"/>&nbsp;Não mostre meu e-mail no site, não serve pra nada mesmo...
<br/><br/>

Comentário<br/>
<textarea style="WIDTH: 500px; HEIGHT: 300px" name="comment" rows="18" cols="50"></textarea><br/>
<br/>
<input type="submit" value="Dizer"/><br/><br/><br/>
<div style="width:500px;font-size:8pt;">
<b>Os comentários devem ser sobre assuntos relativos ao post</b>, eu provavelmente apagarei comentários totalmente offtopic. Se quiser me enviar uma mensagem, use o <a href="../../../content.1bit/contact">formulário de contato</a>. E não esqueça: isso é um site pessoal e eu me reservo o direito de apagar qualquer comentário ofensivo ou inapropriado.
</div>
</form>

<script language="JavaScript">
// cookie de nome
var name = getCookie("name");
if (name && name != 'null')
{
  comment_form.name.value = name;
  comment_form.email.value = getCookie("email");
  comment_form.link.value = getCookie("link");
  comment_form.hideemail.value = getCookie("hideemail");
}

</script>

</div>

</td></tr>



















<tr>
          <td class="topmenu"></td>
          <td>
          <table style="margin: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
            <tr>
              <td><img src="../../../images/rebarba3.png" alt="rebarba"></td>
              <td align="right"><img src="../../../images/rebarba4.png" alt="rebarba"></td>
            </tr>
          </table>
          </td>
        </tr>

        <tr>
          <td class="topmenu">&nbsp;</td>
          <td class="topmenu" height="25" align="right" style="color:#999999;">
::::
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </td>
        </tr>
    </table>
  </body>
</html>

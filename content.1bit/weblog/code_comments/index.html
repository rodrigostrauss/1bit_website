

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
  <head>
<meta charset="utf-8">

<META NAME="author" CONTENT="Rodrigo Strauss">
<META NAME="ROBOTS" CONTENT="ALL">
    <title>Sobre comentários no código  ::::  Rodrigo Strauss :: www.1bit.com.br</title>
    <link href="../../../1bit.css" type="text/css" rel="stylesheet">
    <link rel="alternate" type="text/xml" title="RSS" href="../../../weblog_rss.1bit">
</head>
  <body style="margin:0px 0px 0px 0px" bgcolor="#FFFFFF">
    <table cellspacing="0" cellpadding="0" width="100%" border="0">
        <tr>
          <td class="header" valign="middle" bgcolor="#ffffff" height="77" colspan="2">&nbsp;
<a href="../../../"><img src="../../../images/logo_novo_2.png" border="0" alt="logo" /></a>

          </td>
        </tr>
        <tr>
          <td class="topmenu"></td>
          <td class="topmenu" align="right" height="30">
		    <a class="top_menu_link" href="content.1bit/contact">Contato</a> 
			<span class="menusep">|</span>
            
            <a class="top_menu_link" href="content.1bit/about">Sobre...</a>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </td>
        </tr>
        <tr>
          <td class="topmenu"></td>
          <td>
          <table style="MARGIN: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
            <tr>
              <td><img src="../../../images/rebarba1.png" alt="rebarba"></td>
              <td align="right"><img src="../../../images/rebarba2.png" alt="rebarba"></td>
              </tr>
            </table>
          </td>
        </tr>
        <tr>
          <td class="menu" valign="top" width="175">

<div class="left_menu_section">
 <h2><a href="../../#artigos" style="text-decoration:none;">Artigos</a></h2>
</div>

<div class="left_menu_section">
 <h2><a href="content.1bit/weblog" style="text-decoration:none;">Blog</a></h2>
</div>

<div class="left_menu_section">
 <h2><a href="content.1bit/opensource" style="text-decoration:none;">Open Source</a></h2>
</div>

<!-- 
<div class="left_menu_section">
 <h2><a href="content.1bit/aulas" style="text-decoration:none;">Aulas online (ou nÃ£o) </a></h2>
</div>
-->


<div id="google_translate_element"></div><script>
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'pt',
    gaTrack: true,
    gaId: 'UA-75310-1',
  }, 'google_translate_element');
}
</script><script src="../..//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<br>

<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com.br/custom" target="_top">
<table border="0" bgcolor="#eeeeee">
<tr><td nowrap="nowrap" valign="top" align="left" height="32">
<a href="http://www.google.com/">
<img src="http://www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
<br/>
<input type="hidden" name="domains" value="www.1bit.com.br"></input>
<label for="sbi" style="display: none">Digite os termos da sua pesquisa</label>
<input type="text" name="q" size="23" maxlength="255" value="" id="sbi"></input>
</td></tr>
<tr>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" id="ss0"></input>
<label for="ss0" title="Pesquisar na web"><font size="-2" color="black">Web</font></label></td>
<td>
<input type="radio" name="sitesearch" value="www.1bit.com.br" checked id="ss1"></input>
<label for="ss1" title="Pesquisar www.1bit.com.br"><font size="-2" color="black">www.1bit.com.br</font></label></td>
</tr>
</table>
<label for="sbb" style="display: none">Enviar formulÃ¡rio de pesquisa</label>
<input type="submit" name="sa" value="Pesquisar" id="sbb"></input>
<input type="hidden" name="client" value="pub-2589539519655496"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#0066CC;GL:1;DIV:#999999;VLC:336633;AH:center;BGC:FFFFFF;LBGC:FFFFFF;ALC:0066CC;LC:0066CC;T:000000;GFNT:666666;GIMP:666666;LH:50;LW:120;L:http://www.1bit.com.br/images/logo_novo_2.png;S:http://;FORID:1"></input>
<input type="hidden" name="hl" value="pt"></input>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
<br>

<br>
<br>
<center>

<br><br><br>

<!--
<a href="http://whos.amung.us/show/xopqoakh"><img src="http://whos.amung.us/cwidget/xopqoakh/fffffff6915a.png" alt="page counter" width="81" height="29" border="0" /></a>
-->

</center>



<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
          </td>
          <td valign="top">
<div class="content">
<h4><a href="content.1bit/weblog" style="text-decoration:none;">Rodrigo Strauss :: Blog</a></h4>
<table border="0">
<tr>
<!-- 
<td width="60">

<a style="text-decoration:none;" href="../../weblog_rss.1bit"><img src="../../../images/xml.gif" border="0"/></a>
</td>
-->

<td>



</td>

<td>




</td>

<td align="right">




<!--

<script type="text/javascript">
google_ad_client = "pub-2589539519655496";
google_ad_width = 468;
google_ad_height = 15;
google_ad_format = "468x15_0ads_al";
google_ad_channel = "";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "FF5000";
google_color_text = "000000";
google_color_url = "FF5000";
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
-->






</td>
</tr>
</table>
<br>
<h5>Sobre comentários no código</h5><p>Esse é mais um post que começou como resposta para um comentário, mas cresceu demais e aprendeu a falar :-). Eu já estava a muito tempo ensaiando para escrever algo sobre a importância de comentar muito bem o código, e agora vou aproveitar o gancho para passar minhas opniões e gerar mais discussão sobre o assunto. Esse post começou como uma resposta para <a href="../../../content.1bit/weblog/software_practices#comments">os comentários em "Programando direito com Slashdot"</a>.</p>

<p>Minha teoria é simples: </p>
<p><b>Você consegue fazer um script com 10 linhas de código que remove todos os comentários dos arquivos, se você não gosta de ler comentários. Agora eu quero ver você fazer um script que coloque os comentários de acordo com o que você estava pensando...</b> 
</p>
<p>Comente tudo que puder, o mais explicado possível, se você pecar pelo excesso é só apagar os comentários depois. Os comentários são essenciais para saber qual idéia você teve na hora de desenvolver uma rotina ou algoritmo. Eu sou um programador C++, algumas vezes virtuoso, leio assembly com relativa facilidade, e <b>não acho que código, em qualquer linguagem, seja claro</b>. Colocar um comentário em uma expressão "variavel +=2;" não é exagero. Qualquer um percebe que você está somando 2 ao valor da variável,  o que importa é dizer porque você está somando 2 e como isso causa impacto no restante do seu programa.</p>

<p>Comentar o código não gasta tempo a mais, faz parte do processo de desenvolvimento. Se você não coloca comentários no seu código, está pulando um parte importante desse processo, está fazendo pela metade. Pode parecer radical, mas eu levei alguns anos para perceber a importância disso, porque já dei manutenção em código bem comentado e código sem comentários. A diferença do tempo que você leva para entender o código e fazer as mudanças necessárias é absurda. Comentar código economiza tempo e dinheiro. Quem nunca se perguntou "o que esse cara queria fazer aqui"?</p>

<p>Se alguém aqui já teve oportunidade de ver o fontes do kernel do Windo^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H os samples do DDK do Windows, sabe a diferença que faz um código bem comentado e bem organizado. Eu sinto muita diferença no meu trabalho quando vou dar manutenção em um código da equipe antiga (sem comentários) e da equipe atual (bem comentado). Posso garantir que, muitas vezes, o tempo para correção de um bug em um código bem comentado é menos da metade do tempo que se leva para corrigir um bug em um código sem comentários. Escrever código mais claro ajuda muito, mas não resolve o problema. O ideal é código claro e comentado. Se as empresas soubessem o quanto isso abaixa o custo de desenvolvimento, iam parar de pensar só em metodologia e pensariam um pouco mais em melhorar o código e a capacidade técnica de quem o escreve...</p>

<p>Existe sim o risco dos comentários ficarem errados com o tempo, alguém pode modificar o funcionamento de alguma coisa e deixar o comentário antigo. Sim, da mesma forma que seu software pode ter um bug. Esse é um risco pequeno perto dos grandes ganhos que um código bem comentado gera. Sem comentários, se você ficar 6 meses sem mexer no projeto e esquecer como ele funciona, vai ter que entender o código todo novamente (ou ler a documentação, que também pode estar desatualizada). Se você tiver bons comentários, toda vez que você for mudar alguma coisa, por mais que o intervalo seja longo, você terá um ponto de início. Sem comentários você tem um monte de código. E como eu disse - e torno a dizer - nenhum código, em nenhuma linguagem, é claro. Qualquer sistema que seja mais complexo do que um Hello World não é claro. Você pode achar claro enquanto faz, mas quem vem depois de você não achará, seja por falta de conhecimento da regra de negócio, ou mesmo falta de conhecimento na linguagem ou ambiente de programação.</p>

<p>Comentar o código é de suma importância, e isso deve ser pensado e conversado antes de tentar implementar qualquer metodologia. Comentar o código é um processo rápido, não traumático e resolve muitos problemas. Isso traz grandes vantagens a curto prazo e é muito mais barato e fácil do que implementar uma metodologia. É uma coisa que você pode começar hoje, agora, não depende de aprovação de gerente nenhum, não depende da má vontade do setor administrativo ou financeiro. Além de fazer um bem para empresa comentando bem o seu código, você fará um grande bem para você, pois terá bem menos dor de cabeça quando precisar fazer uma alteração em um sistema 4 anos depois. E a gente sabe que isso acontece.</p>
<br><p class="datetime">Em 29/11/2005 18:00, por  Rodrigo Strauss </p>
</div>
          </td>
        </tr>



<tr>
<td class="topmenu"></td>
<td>
<br>
<center>

<script type="text/javascript"><!--
google_ad_client = "pub-2589539519655496";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
google_ad_channel = "";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "FF5000";
google_color_text = "000000";
google_color_url = "FF5000";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

</center>
</td>
</tr>

<tr>
 <td class="topmenu"></td>
 <td>
  <table style="margin: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
   <tr>
    <td><img src="../../../images/rebarba3.png"></td>
    <td align="right"><img src="../../../images/rebarba4.png"></td>
   </tr>
  </table>
 </td>
</tr>

<tr><td class="topmenu">&nbsp;</td><td class="topmenu">&nbsp;</td></tr>
<tr><td class="topmenu">&nbsp;</td><td>
<table style="MARGIN: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
            <tr>
              <td><img src="../../../images/rebarba1.png"></td>
              <td align="right"><img src="../../../images/rebarba2.png"></td>
              </tr>
            </table>
</td>
</tr>
 <tr><td class="topmenu">&nbsp;</td>
<td>

<div class="content">
<a name="comments"></a><h5>Comentários</h5><div class="post_comment">
<a name="745"></a><B>Wanderley Caloni Jr</B>  | <a rel="nofollow" href="http://www.caloni.com.br">website</a> | em 29/11/2005 | <a rel="nofollow" href="../#745">#</a><br>
Vale meu comentário do artigo que iniciou isso: quanto menos óbvio, cuide melhor dos comentários.<br><br>Mas é importante o que Strauss disse: "você pode achar claro enquanto faz". Isso acontece todo o tempo, é óbvio que seja claro o código que se está mexendo naquele exato momento. Menos óbvio será na semana que vem, e menos ainda daqui a um ano.<br><br>E da mesma maneira que código organizado ajuda - e comentado é ainda melhor - deve-se organizar os comentários também, de maneira que código e comentários convivam harmoniosamente.<br><br>Por último, fazer manutenção em um código comentado significa fazer manutenção dos dois: código e comentários. Pensar dessa forma evita que existam comentários desatualizados.
</div>
<div class="post_comment">
<a name="746"></a><B>Leonardo Stabile Prates</B>  | em 29/11/2005 | <a rel="nofollow" href="../#746">#</a><br>
concordo em partes... prefiro comentar blocos de codigo do a comentar linhas individuais, atualmente as IDEs fornecem feramentas suficientes para explicar detalhes individuais de linhas de codigo (ex: eu jogo o mouse em cima de uma funcao e abre um popup com o cabecalho dela, eh claro, desde q vc comente funcao a funcao)<br><br>no caso do "variavel += 2" a propria linha ja constitui um erro de desenvolvimento: oq eh "2"?! de onde ele surgiu?! nao seria melhor criar uma macro pra explicar o numero magico?!<br>"#define DESVIO_CALCULO 2"....<br><br>ou melhor ainda:<br><br>"const int DESVIO_CALCULO = 2;" (vamos fazer direito ehehhe)<br><br>de qqer forma, concordo plenamente com a importancia do comentario, mas explicando o conceito, e nao detalhes tecnicos da implementacao, a menos q sejam relevantes.<br><br>"Você pode achar claro enquanto faz"<br>sem duvida, aposto q ja aconteceu com todo mundo eheh<br><br>no caso dos codigos da microsoft, tb curto o estilo deles, a metrica, mesmo odiando notacao hungara. no caso de codigos gnu o codigo eh mto mais esperto, mas o problema eh outro, q por sinal eu acho pior: siglas magicas!! "get_rhe_she_feh()"... isso eh desumano...
</div>
<div class="post_comment">
<a name="754"></a><B>Fabricio Ferreira</B>  | em 02/12/2005 | <a rel="nofollow" href="../#754">#</a><br>
Como eu acho que minha frase foi o estopim para este artigo...<br><br>O maior problema que vejo com comentários no código é que muitas vezes ele atrapalha a leitura do próprio código.<br><br>Se a IDE tivesse um recurso do tipo "Hide Comments", ou "Comment Outlining" seria uma grande ajuda.<br><br>-Fabricio
</div>
<div class="post_comment">
<a name="755"></a><B>Fabricio Ferreira</B>  | em 02/12/2005 | <a rel="nofollow" href="../#755">#</a><br>
[Apaga o comment anterior...analfabetismo total]<br><br>Como acho que minha frase foi o estopim para este artigo, vale uma réplica:<br><br>O maior problema que enfrento com os comentários, é o fato de que muitas vezes eles atrapalham a leitura do código. São muito extensos, não dizem quase nada. Sem contar os artistas ASCII, que fazem obras de arte com caracteres.<br><br>Se a IDE tivesse um recurso do tipo "Hide Comments", ou "Comment Outlining" seria uma grande ajuda.<br><br>-Fabricio
</div>
<div class="post_comment">
<a name="782"></a><B>Hugo</B>  | em 07/12/2005 | <a rel="nofollow" href="../#782">#</a><br>
Melhor do que comentários as vezes só a documentação gerada por eles por um doxygen da vida... vide a documentação da Qt e da KDElibs, que são ótimas por sinal... porém é documentação da API, e não do código, o que por mais bizarro que pareça é diferente =]
</div>
<div class="post_comment">
<a name="787"></a><B>Murtog</B>  | <a rel="nofollow" href="http://murtog.blogspot.com">website</a> | em 07/12/2005 | <a rel="nofollow" href="../#787">#</a><br>
Ótimo texto. Parabéns.<br>Eu, admito, sou um comentário-maníaco, escrevo comentários sempre e estou sempre aperfeiçoando eles. Apesar de que uns tempos para cá eu estar reduzindo o número deles, tentando chegar num meio termo. Que, como disse o colega, não chege a atrapalhar a leitura do código.<br><br>Abraços, ah, seria legal você continuar esse tipo de artigo, discutindo modos de programação: nomeclaturas, estruturas de classes... Garanto que as discussões serão boas.
</div>
<div class="post_comment">
<a name="799"></a><B>Carlos Roberto</B>  | em 08/12/2005 | <a rel="nofollow" href="../#799">#</a><br>
Legal o artigo, só vou completar com uma coisa: mesmo que vc tenha 150% de certeza sobre quem irá ler seu código também conhece seu idioma (aqui, português), escreva seus comentários em inglês.<br><br>Em outras palavras: quer comentar, faça em inglês, por favor. Linguagens de programação são em inglês (vide palavras reservadas como for, def, float...) e fazendo comentários em inglês qualquer programador de qualquer lugar do mundo poderá dar manutenção no código.<br><br>Já tive o desprazer de dar manutenção em código onde os comentários estavam escritos em Catalão :P<br>e posso dizer que mal conheço espanhol, quanto mais o dialeto citado. Resutado: ignorei os comentários e achar o bug levou quase dois meses.<br><br>[]s
</div>
<div class="post_comment">
<a name="1693"></a><B>Wanderley Caloni</B>  | <a rel="nofollow" href="http://www.caloni.com.br">website</a> | em 17/01/2007 | <a rel="nofollow" href="../#1693">#</a><br>
Isso, a meu ver, vai depender do escopo do seu código. Não faz muito sentido escrever comentários em inglês em uma equipe de desenvolvimento de software nacional. Claro, quem sabe um dia o código vai ser mantido por pessoas que não falam português. E quem sabe um dia você não é chamado pra trabalhar em uma equipe de Moscou.<br><br>Quando eu publico artigos no Code Project, reviso meu código e traduzo os comentário, o que acaba sendo útil já que a revisão é saudável de vez em quando.
</div>
<div class="post_comment">
<a name="2099"></a><B>Claudio Torcato</B>  | <a rel="nofollow" href="http://claudiotorcato.wordpress.com">website</a> | em 27/11/2007 | <a rel="nofollow" href="../#2099">#</a><br>
Na premissa de quem devemos sempre escrever um código o mais simples e legível possível, usando nomes adequados para funções e variáveis (deixando a refatoração por conta de performance para depois dos testes de performance - que muitas vezes deixa o código ilegível), os comentários são importantes em trechos de código em que não é possível deixá-lo claro somente por meio do código em si.<br><br>Sou a favor da refatoração quando fazemos uma revisita ao código e rapidamente podemos ver que não entendemos o que o mesmo vai fazer. Um  comentário inicial numa função deveria ser suficiente em boa parte dos casos para descrever a regra de negócio ali inserida. O código é a consequencia do que ali está escrito.<br><br>As idéias que sigo estão baseadas na prática de refatoração.
</div>
<div class="post_comment">
<a name="2269"></a><B>Luanildo Silva</B>  | <a rel="nofollow" href="http://www.programarebom.blogspot.com">website</a> | em 03/05/2008 | <a rel="nofollow" href="../#2269">#</a><br>
Muito legal o artigo.<br>Realmente os comentarios ajudam na leitura do codigo, muitas vezes é como se fosse a tradução dos codigos.
</div>



</div>

</td></tr>



















<tr>
          <td class="topmenu"></td>
          <td>
          <table style="margin: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
            <tr>
              <td><img src="../../../images/rebarba3.png" alt="rebarba"></td>
              <td align="right"><img src="../../../images/rebarba4.png" alt="rebarba"></td>
            </tr>
          </table>
          </td>
        </tr>

        <tr>
          <td class="topmenu">&nbsp;</td>
          <td class="topmenu" height="25" align="right" style="color:#999999;">
::::
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </td>
        </tr>
    </table>
  </body>
</html>

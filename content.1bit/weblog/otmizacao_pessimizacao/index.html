

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
  <head>
<meta charset="utf-8">

<META NAME="author" CONTENT="Rodrigo Strauss">
<META NAME="ROBOTS" CONTENT="ALL">
    <title>Otimização e Pessimização  ::::  Rodrigo Strauss :: www.1bit.com.br</title>
    <link href="../../../1bit.css" type="text/css" rel="stylesheet">
    <link rel="alternate" type="text/xml" title="RSS" href="../../../weblog_rss.1bit">
</head>
  <body style="margin:0px 0px 0px 0px" bgcolor="#FFFFFF">
    <table cellspacing="0" cellpadding="0" width="100%" border="0">
        <tr>
          <td class="header" valign="middle" bgcolor="#ffffff" height="77" colspan="2">&nbsp;
<a href="../../../"><img src="../../../images/logo_novo_2.png" border="0" alt="logo" /></a>

          </td>
        </tr>
        <tr>
          <td class="topmenu"></td>
          <td class="topmenu" align="right" height="30">
		    <a class="top_menu_link" href="../../../content.1bit/contact">Contato</a> 
			<span class="menusep">|</span>
            
            <a class="top_menu_link" href="../../../content.1bit/about">Sobre...</a>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </td>
        </tr>
        <tr>
          <td class="topmenu"></td>
          <td>
          <table style="MARGIN: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
            <tr>
              <td><img src="../../../images/rebarba1.png" alt="rebarba"></td>
              <td align="right"><img src="../../../images/rebarba2.png" alt="rebarba"></td>
              </tr>
            </table>
          </td>
        </tr>
        <tr>
          <td class="menu" valign="top" width="175">

<div class="left_menu_section">
 <h2><a href="../../../#artigos" style="text-decoration:none;">Artigos</a></h2>
</div>

<div class="left_menu_section">
 <h2><a href="../../../content.1bit/weblog_archive" style="text-decoration:none;">Blog</a></h2>
</div>

<div class="left_menu_section">
 <h2><a href="../../../content.1bit/opensource" style="text-decoration:none;">Open Source</a></h2>
</div>

<!-- 
<div class="left_menu_section">
 <h2><a href="content.1bit/aulas" style="text-decoration:none;">Aulas online (ou não) </a></h2>
</div>
-->


<br>
<br>
<br>
<center>

<!--
<a href="http://whos.amung.us/show/xopqoakh"><img src="http://whos.amung.us/cwidget/xopqoakh/fffffff6915a.png" alt="page counter" width="81" height="29" border="0" /></a>
-->

</center>



<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
          </td>
          <td valign="top">
<div class="content">
<h4><a href="../../../content.1bit/weblog_archive" style="text-decoration:none;">Rodrigo Strauss :: Blog</a></h4>
<table border="0">
<tr>
<!-- 
<td width="60">

<a style="text-decoration:none;" href="../../weblog_rss.1bit"><img src="../../../images/xml.gif" border="0"/></a>
</td>
-->

<td>



</td>

<td>




</td>

<td align="right">




<!--

<script type="text/javascript">
google_ad_client = "pub-2589539519655496";
google_ad_width = 468;
google_ad_height = 15;
google_ad_format = "468x15_0ads_al";
google_ad_channel = "";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "FF5000";
google_color_text = "000000";
google_color_url = "FF5000";
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
-->






</td>
</tr>
</table>
<br>
<h5>Otimização e Pessimização</h5><p>
Eu li em algum lugar que "otimização precoce é pior do que nenhuma otimização", e a cada dia que passa eu tenho visto que isso é realmente verdade. Qual o motivo de otimizar um programa que você nem terminou? Na verdade você não sabe exatamente o que vai trazer problemas de desempenho. Então, na realidade, você não está fazendo uma otimização, e sim uma pessimização. Existem alguns conceitos básicos de desempenho que devemos seguir, mas não é justificável levarmos duas vezes mais tempo para fazer algo porque queremos bom desempenho. Faça primeiro, do modo mais rápido e correto possível, com o código simples e claro, e deixe para otimizar somente a parte problemática, se existir uma. Não tente resolver um problema que ainda não existe.


<p>
É muito comum programadores C++ terem preocupações excessivas com otimizações precoces e poucas preocupações em fazer um código seguro, que funcione, e feito em tempo hábil. Por isso que temos tantos buffer overflows e coisas assim. Não seria melhor usarmos std::string para tudo e parar de nos importar se ela faz uma (ou duas) cópias da string no retorno? Nós vivemos no mundo das VMs, do .NET e das linguagens script. Um código C++ que copia uma string desnecessariamente ainda será dezenas de vezes mais rápido do que tudo que existe por aí. E você ainda poderá otimizar se quiser (eles não).

<p>
Faça um programa que funcione, de uma maneira simples e com um código claro. Depois que tudo estiver funcionando, otimize o que ficou mais lento. Se você faz uma otimização precoce (usando ponteiros e memcpy irresponsavelmente, por exemplo), existe uma possibilidade de, além de não ficar tão mais rápido, você criar um buffer overflow esperando para acontecer. Se você escrever um código simples e PSICOLOGICAMENTE lento, você pode fazer a otimização depois, e testar especificamente aquele memcpy para se certificar que nada de errado vai acontecer. Com a otimização precoce, o seu memcpy suicida será testado junto com o resto do software, e não receberá a devida atenção. Mas o teste que será feito depois da otimização será específico para esse memcpy, e é muito mais provável que os erros sejam encontrados.

<p>
Hoje a velocidade os processadores é da ordem de gigahertz, podemos nos dar ao luxo de nos preocupar em otimizar as partes interessantes e fazer de forma simples e clara as partes menos interessantes. Mas não esqueça: já que não vai otimizar e está disposto a queimar alguns nanosegundos a mais, pelo menos faça o código de forma clara. Se seu medo é que o próximo programador a mexer no código fale que você faz código lento, coloque um comentário explicando que você tem mais o que fazer do que otimizar uma função que lê do registro e só é chamada uma vez...

<p>PS: Sim, eu sou um programador C++.<br><p class="datetime">Em 26/02/2005 05:43, por  Rodrigo Strauss </p>
</div>
          </td>
        </tr>



<tr>
<td class="topmenu"></td>
<td>
<br>
<center>

<script type="text/javascript"><!--
google_ad_client = "pub-2589539519655496";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
google_ad_channel = "";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "FF5000";
google_color_text = "000000";
google_color_url = "FF5000";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

</center>
</td>
</tr>

<tr>
 <td class="topmenu"></td>
 <td>
  <table style="margin: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
   <tr>
    <td><img src="../../../images/rebarba3.png"></td>
    <td align="right"><img src="../../../images/rebarba4.png"></td>
   </tr>
  </table>
 </td>
</tr>

<tr><td class="topmenu">&nbsp;</td><td class="topmenu">&nbsp;</td></tr>
<tr><td class="topmenu">&nbsp;</td><td>
<table style="MARGIN: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
            <tr>
              <td><img src="../../../images/rebarba1.png"></td>
              <td align="right"><img src="../../../images/rebarba2.png"></td>
              </tr>
            </table>
</td>
</tr>
 <tr><td class="topmenu">&nbsp;</td>
<td>

<div class="content">
<a name="comments"></a><h5>Comentários</h5><div class="post_comment">
<a name="377"></a><B>Matheus Saraiva</B>  | em 15/06/2005 | <a rel="nofollow" href="../#377">#</a><br>
Com certeza cara! Falou muito e falou bonito.
</div>
<div class="post_comment">
<a name="405"></a><B>Edgar</B>  | em 27/06/2005 | <a rel="nofollow" href="../#405">#</a><br>
Que ridículo esse "tenho medinho de spam". Isso é sério e você deve no mínimo respeito aos seus leitores, ou você colocou isso justamente para induzir a não marcarem, que exponham seus e-mails e VOCÊ fazer spam?<br><br>E um detalhe: Por que o comentário final "sim, eu sou um programador C++", que isso tem a ver? Nada do que você escreveu se quer deixa dúvidas sobre sua linguagem de programação. Você colocou isso simplesmente por auto-afirmação, provavelmente é um iniciante em C++ que adora sair dizendo para todos que programa em c++ mas nunca participou de um projeto de grande porte nesta linguagem.<br><br>Edgar
</div>
<div class="post_comment_strauss">
<a name="406"></a><B>Rodrigo Strauss</B>  | <a rel="nofollow" href="http://www.1bit.com.br">website</a> | em 27/06/2005 | <a rel="nofollow" href="../#406">#</a><br>
Respeito seu direito de achar certas coisas ridículas, não consigo agradar todo mundo. Ainda bem que todo browser tem um botão fechar no canto superior direito.<br><br>Se você tivesse experiência com o mercado de programação você entenderia o que o comentário final quer dizer. Eu poderia te explicar agora, mas aí fica sem graça. Quando você tiver um pouco mais de vivência na área você vai entender, não se preocupe. É que meu site tem como público alvo programadores, e pessoas que não são da área têm mesmo dificuldade de entender algumas piadas.<br><br>
</div>
<div class="post_comment">
<a name="408"></a><B>Ed</B>  | em 27/06/2005 | <a rel="nofollow" href="../#408">#</a><br>
Tenho pouco tempo de experiência sim (somente 8 anos de C/C++) e pelo menos admito isso, perto de profissionais que conheço de 23 anos de experiência, estou engatinhando mesmo. Quanto aquilo ser uma piada, francamente, você não tem muita noção do que seja humor. Mas não vou entrar nesse mérito. Minha sugestão é que você tire pois causa uma impressão muito ruim.<br><br>Concordo que fui meio "agressivo" e admiro o fato de ter encarado com maturidade, mas que este comentário final foi típico de um profissional inexperiente em uma linguagem querendo se auto-afirmar, isso foi sim e disso eu sei por experiência, apesar de achar o contrário.<br><br>É muito comum eu receber progamadores de C/C++ aqui na empresa que dizem as mesmas coisas que você diz (me refiro a vários artigos do seu site), demonstrar ter o mesmo perfil, mas quando você joga algo complexo ficam que nem cego em tiroteiro. E comentários como o que você fez reforçam esta opinião.<br><br>Mas eu encerro esse assunto por aqui, caso você responda, vou ler sua resposta, mas prometo não escrever de volta porque isso não vai chegar a lugar nenhum.<br><br>Boa sorte com o site<br><br>Ed
</div>
<div class="post_comment_strauss">
<a name="411"></a><B>Rodrigo Strauss</B>  | <a rel="nofollow" href="http://www.1bit.com.br">website</a> | em 27/06/2005 | <a rel="nofollow" href="../#411">#</a><br>
Não acho que anos de experiência diga tudo. Conheço programadores com 18 anos de experiência que continuma fazendo as mesmas porcarias de décadas passadas (talvez um pouco melhor). Você só sabe o quanto o sujeito é bom vendo no dia-a-dia e no decorrer de um projeto.<br><br>Quanto à sua "agressividade", assunto encerrado. E quanto ao meu humor (ou falta dele), isso é realmente uma coisa que não dá para discutir. Até porque eu não faço força nenhuma para ser politicamente correto ou unanimidade e isso é um site pessoal.<br><br>E eu concordo que possa haver programadores que dizem as mesmas coisas que eu, mas não conseguem tocar um projeto complexo (seja lá o que complexo queira dizer para você). Tudo que eu escrevo aqui não diz nada sobre minha vivência com projetos ou minha capacidade de colocar tudo isso em prática.
</div>
<div class="post_comment">
<a name="1542"></a><B>Alvin</B>  | <a rel="nofollow" href="http://www.alvin.com.br">website</a> | em 09/10/2006 | <a rel="nofollow" href="../#1542">#</a><br>
Caro Edgar, pelo visto você está parado no tempo, o que o Rodrigo apresenta aqui é o state-of-the-art do desenvolvimento em C++.<br><br>[s]
</div>
<div class="post_comment">
<a name="2531"></a><B>Claudio Roberto França Pereira</B>  | em 06/10/2009 | <a rel="nofollow" href="../#2531">#</a><br>
Concordo que otimizar demais é perda de tempo, mas deixar de usar certas bibliotecas pra usar outras muito mais complexas só pra fazer o trabalho mais rápido também é besteira.<br><br>Como você mesmo postou mais recentemente, o uso do padrão (STL), mesmo podendo ser visto como uma otimização precoce, vale mais a pena que desenvolver usando o .NET Framework.
</div>



</div>

</td></tr>



















<tr>
          <td class="topmenu"></td>
          <td>
          <table style="margin: 0px" cellspacing="0" cellpadding="0" width="100%" border="0">
            <tr>
              <td><img src="../../../images/rebarba3.png" alt="rebarba"></td>
              <td align="right"><img src="../../../images/rebarba4.png" alt="rebarba"></td>
            </tr>
          </table>
          </td>
        </tr>

        <tr>
          <td class="topmenu">&nbsp;</td>
          <td class="topmenu" height="25" align="right" style="color:#999999;">
::::
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </td>
        </tr>
    </table>
  </body>
</html>
